--- 
title: "Introducción a las aplicaciones web interactivas"
date: "Por definir, 2019"
site: bookdown::bookdown_site
output: bookdown::gitbook
documentclass: book
bibliography: [book.bib]
biblio-style: apalike
link-citations: yes
description: ""
always_allow_html: yes
---

_**Reconocimiento**_: Esta libro esta desarrollado utilizando blogdown y bookdown. Sigue el estilo del 
trabajo realizado para los talleres del [SASAP](https://alaskasalmonandpeople.org/){target="_blank"}  y [Arctic Data Center](https://arcticdata.io/){target="_blank"}  de [NCEAS](https://www.nceas.ucsb.edu/){target="_blank"} . Aquí traduzco, compilo e integro 
materiales de múltiples fuentes, principalmente la página [https://shiny.rstudio.com/](https://shiny.rstudio.com/){target="_blank"} .


# Introducción

En la página principal del paquete `Shiny` se puede leer "*Interactúa.* *Analiza.* *Comunica.* Toma una aproximación
fresca e interactiva para contar tu historia de datos con Shiny. Deja a los usuarios interactuar con tus datos y
análisis. Y hazlo todo con R".

  ![shinyMain](imagenes/main_Shiny.jpg)

El principal atractivo del paquete `Shiny` que es hace muy fácil construir aplicaciones web interactivas, utilizando
código R en forma simple y directa. Estas aplicaciones se pueden hospedar en servidores web en forma independiente
o bien como parte de documentos generados con RMarkdown (esa es otra clase en la que estoy trabajando).

Algunos ejemplos que yo he desarrollado son:

1. Períodos de retorno de salmones de Alaska [Aquí](https://cornejo.shinyapps.io/ggjoy_Escapement/){target="_blank"} 
1. Distribución de frecuencias de talla y edad de salmones de Alaska [Aquí](https://cornejo.shinyapps.io/shiny_asl-AgeLength/){target="_blank"} 
1. Capturas artesanales en Chile (Aun en desarrollo) [Aquí](https://cornejo.shinyapps.io/CapturasArtesanales/){target="_blank"} 

Existen muchas posibilidades y la [galeria](https://shiny.rstudio.com/gallery/see-more.html){target="_blank"}  en la página de Shiny es la mejor fuente de inspiración posible.

En resumen, Shiny combina el poder computacional y simpleza de R con las capacidades interactivas de las páginas web modernas.


## Objetivos

En esta sección Ud. aprenderá:

- Que es Shiny
- Que cosas se pueden hacer con Shiny
- Instalar Shiny en su computador
- Crear su primera aplicación Shiny
- Compartir su aplicación en la red


## Bienvenido a Shiny

Como ya se dijo, Shiny es un paquete de R que hacer muy fácil la implementación de aplicaciones web interactivas
(apps) utilizando el lenguaje al que estamos acostumbrados en R. En esta sección vamos a comenzar a mostrar en que consisten estas aplicaciones, construiremos una y la pondremos en la red para que otras personas puedan verla y jugar con ella.

Si por alguna razón aun no instalar el paquete **Shiny**, abra RStudio, conéctese a Internet y corra el código

```
install.packages("shiny")
```

Ejemplo de una aplicación básica.

 [Shiny Hello World](imagenes/01_hello.png)

El paquete Shiny contiene 11 ejemplos pre-construidos que demuestran como trabaja Shiny y son auto-contenidos.

El ejemplo "Hello Shiny" gráfica un histograma con el los datos de **R** del 
[Viejo Fiel](https://es.wikipedia.org/wiki/Old_Faithful) e incluye una barra deslizable para definir el número de  
intervalos del histograma, de esta forma, al interaccionar con la aplicación, el usuarios puede aumentar o disminuir
el número de intervalos, moviendo con el puntero del mouse, la barra deslizable que se encuentra a la izquierda del
gráfico y al aplicación responderá en forma inmediata a esta acción. 

Vamos a usar una aplicación muy similar a esta para explorar la estructura de un Shiny cuando creemos nuestra primera app.

Para ejecutar en su computador la app **Hello Shiny**, escriba:

```
library(shiny)
runExample("01_hello")
```


## Primera aplicación

Una aplicación `Shiny` básica puede estar contenida en un solo archivo llamado *app.R* en un *directorio*, que se deja un un directorio y esta puede ser ejecutada con **runApp("NombreDirectorio")**.

El código dentro de *app.R* contiene tres secciones:

1. El *objetivo* Interfase de Usuario (UI): Este objeto contiene los controles sobre el diseño y apariencia de la aplicacióin. 
1. La función *Servidor*: Contiene las insutrcciones que el computador necesita ejecutar para consturir la aplicación.
1. La llamada a la funcion *shinyApp*: Esta funcion crea los objetos *Shiny apps* desde el par UI/server.

Para aplicaciones mas complejas y extensas, es recomentable create archivos separados llamados `ui.R` y `serverR`. Además es posible incluir un archivo `global.R` donde se pueden incluir funciones creadas para la aplicación, manipular datos, etc.

Una aspecto muy interesante de programar una aplicacion en un archivo único, es la facilidad de este para ser compartido y ejecutado desde la consola R o lines de comando.

### Componentes de una aplicación

#### UI

Aqúi esta el objeto `ui` del ejemplo **Hello Shiny**:

```
library(shiny)

# Define UI for app that draws a histogram ----
ui <- fluidPage(

  # App title ----
  titlePanel("Hello Shiny!"),

  # Sidebar layout with input and output definitions ----
  sidebarLayout(

    # Sidebar panel for inputs ----
    sidebarPanel(

      # Input: Slider for the number of bins ----
      sliderInput(inputId = "bins",
                  label = "Number of bins:",
                  min = 1,
                  max = 50,
                  value = 30)

    ),

    # Main panel for displaying outputs ----
    mainPanel(

      # Output: Histogram ----
      plotOutput(outputId = "distPlot")

    )
  )
)
```
De este código es posible identificar los componentes:
1. **titlePanel** donde se define el título de la aplicación.
1. **sidebarLayout** donde se defines los espacios que se utilizan para las intradas de usuario y las salidas, en este caso gráficas.
1.1. **sidebarPanel**, esta esta definido como un subcomponente de **sideberLayout** y define la seccion donde el usuario puede interactuar con la aplición-


Aquí describir brevemente que se pone en cada sección de los componentes de la aplicación.

#### Global

#### Servidor

#### UI (Interfase de Usuario)




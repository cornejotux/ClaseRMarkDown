# Herramientas: RStudio - Git/GitHub Configuración y Motivación

## Por que usar git?

### El problema con los nombres de archivos

```{r finalDoc, echo=FALSE, out.width = '100%', fig.align = 'center', fig.cap = 'El dilema de usar nombres como descriptor de versiones.'}
knitr::include_graphics("images/3.1_phd_comics_final.png")
```

Cada archivo en un proceso científico sufre de cambios. Los manuscritos son editados.
Las figuras son revisadas. Los códigos se corrigen cuando se encuentran problemas. Los
archivos de datos se combinan, errores son corregidos, se dividen y combinan nuevamente.
En el curso de un análisis simple, uno puede esperar miles de cambios en los archivos. 
Y aún así, todo lo que usamos para identificas este sinnúmero de cambios son los 
simples **nombres de archivos** (fig. \@ref(fig:finalDoc)). Teniendo esto en consideración, es lógico pensar que 
debe existir una forma mejor... Y si la hay, se conoce como __Control de Versiones__.

Un sistema de control de versiones ayuda a seguir todos lo cambios que se realizan a
nuestros archivos, sin el desastre que resulta utilizando sólo el nombre de archivos.
En los sistemas de control de versiones como `git`, el sistema registra no solo el 
nombre del archivo, si no que ademas su contenido, de esta forma, cuando el contenido 
cambia, permite identificar que partes estaban y donde. Registra además que versión de 
un archivo viene de una versión previa, de esta forma se tiene un historial de todos
los cambios. De esta forma es fácil dibujar un gráfico que muestre todos los cambios
que ha sufrido un archivos, con todas sus versiones, algo como lo que se muestra en la 
figura:

```{r figVersiones, echo=FALSE, out.width = '40%', fig.align = 'center', fig.cap = 'Evolución de las versiones de un archivo.'}
knitr::include_graphics("images/3.2_version-graph.png")
```

Los sistemas de control de versiones asignan un identificador a cada versión de cada 
archivo y mantiene un registro de como estan relacionados entre ellos. Además, estos
permiten ramificaciones en esas versoines, permitiendo fusiones de esas ramificaciones
de regreso a la tronco principal de trabajo. sus relaciones. Estos sistemas permiten
ademas tener *multiples copia* en multiples computadores como respaldos y para trabajar
en colaboración. Finalmente, además se puede incluir etiquetas (tags) a versiones 
en particular, de esta forma es fácil retornar a la versió que tenian los archivos 
cuando fueron etiquetados. Por ejemplo, la versión exacta de los datos, código y texto
de un manuscrito que fue envado y que tiene la etiqueta `R2` en la figura \@ref(fig:figVersiones).

## Revisando el ambiente de RStudio

### Versión de R

Vamos a usar `r R.version.string`, que puede ser descargada e instalada desde [CRAN](https://cran.rstudio.com). Para ver que versión tiene instaldas, ejecute este comando en la consola de RStudio:

```
R.version$version.string
```

### RStudio Version

We will be using RStudio version 1.1.463 or later, which you can download and install [here](https://www.rstudio.com/products/rstudio/download/) To check your RStudio version, run the following in your RStudio console:

```
RStudio.Version()$version
```

If the output of this does not say `1.1.463`, you should update your RStudio. Do this by selecting Help -> Check for Updates and follow the prompts.

### Package installation

Run the following lines to check that all of the packages we need for the training are installed on your computer.

```{r, eval = F}

packages <- c("devtools", "dplyr", "DT", "ggplot2", "leaflet", "roxygen2", "tidyr")
for (package in packages) { if (!(package %in% installed.packages())) { install.packages(package) } }

rm(packages) #remove variables from workspace

```

If you haven't installed all of the packages, this will automatically start installing them. If they are installed, it won't do anything.

Next, create a new R Markdown (File -> New File -> R Markdown). If you have never made an R Markdown document before, a dialog box will pop up asking if you wish to install the required packages. Click yes.


## Setting up git

If you haven't already, go to [github.com](http://github.com) and create an account. If you haven't downloaded git already, you can download it [here](https://git-scm.com/downloads).

Before using git, you need to tell it who you are, also known as setting the global options. The only way to do this is through the command line. Newer versions of RStudio have a nice feature where you can open a terminal window in your RStudio session. Do this by selecting Tools -> Terminal -> New Terminal.

A terminal tab should now be open where your console usually is. To set the global options, type the following into the command prompt, with your actual name, and press enter:

```
git config --global user.name "Your Name"
```

Next, enter the following line, with the email address you used when you created your account on github.com:

```
git config --global user.email "yourEmail@emaildomain.com"
```

Note that these lines need to be run one at a time.

Finally, check to make sure everything looks correct by entering this line, which will return the options that you have set.

```
git config --global --list
```

### Note for Windows Users

If you get "command not found" (or similar) when you try these steps through the RStudio terminal tab, you may need to set the type of terminal that gets launched by RStudio. Under some git install senerios, the git executable may not be available to the default terminal type.
